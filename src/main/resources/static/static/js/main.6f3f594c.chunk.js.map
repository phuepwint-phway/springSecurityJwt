{"version":3,"sources":["services/auth.service.js","components/Login.js","components/Register.js","services/auth-header.js","services/user.service.js","components/Home.js","components/Profile.js","common/EventBus.js","components/AdminBoard.js","components/UserBoard.js","components/ManagerBoard.js","App.js","reportWebVitals.js","index.js"],"names":["API_URL","AuthService","register","username","email","password","axios","post","login","then","response","data","token","localStorage","setItem","JSON","stringify","logout","removeItem","getCurrentUser","parse","getItem","required","value","React","createElement","className","role","Login","navigate","useNavigate","form","useRef","checkBtn","_useState","useState","_useState2","_slicedToArray","setUsername","_useState3","_useState4","setPassword","_useState5","_useState6","loading","setLoading","_useState7","_useState8","message","setMessage","src","alt","Form","onSubmit","e","preventDefault","current","validateAll","context","_errors","length","res","console","log","window","location","reload","error","resMessage","toString","ref","htmlFor","Input","type","name","onChange","target","validations","disabled","CheckButton","style","display","validEmail","isEmail","vusername","vpassword","Register","setEmail","successful","setSuccessful","_useState9","_useState10","authHeader","user","Authorization","UserService","getPublicContent","get","getUserBoard","headers","getModeratorBoard","getAdminBoard","Home","content","setContent","useEffect","_content","Profile","currentUser","substring","substr","eventBus","on","event","callback","document","addEventListener","detail","dispatch","dispatchEvent","CustomEvent","remove","removeEventListener","AdminBoard","status","EventBus","UserBoard","ManagerBoard","App","showManagerBoard","setShowManagerBoard","showAdminBoard","setShowAdminBoard","undefined","setCurrentUser","roles","includes","logOut","Link","to","href","onClick","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","HashRouter"],"mappings":"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","file":"static/js/main.6f3f594c.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"http://localhost:8080/api/auth/\";\n\nconst register = (username, email, password) => {\n  return axios.post(API_URL + \"signup\", {\n    username,\n    email,\n    password,\n  });\n};\n\nconst login = (username, password) => {\n  return axios\n    .post(API_URL + \"login\", {\n      username,\n      password,\n    })\n    .then((response) => {\n      if (response.data.token) {\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n};\n\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\n\nconst getCurrentUser = () => {\n  return JSON.parse(localStorage.getItem(\"user\"));\n};\n\nconst AuthService = {\n  register,\n  login,\n  logout,\n  getCurrentUser,\n};\n\nexport default AuthService;\n","import React, { useState, useRef } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\n\nimport AuthService from \"../services/auth.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        This field is required!\n      </div>\n    );\n  }\n};\n\nconst Login = () => {\n  let navigate = useNavigate();\n\n  const form = useRef();\n  const checkBtn = useRef();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const onChangeUsername = (e) => {\n    const username = e.target.value;\n    setUsername(username);\n  };\n\n  const onChangePassword = (e) => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    setMessage(\"\");\n    setLoading(true);\n\n    form.current.validateAll();\n\n    if (checkBtn.current.context._errors.length === 0) {\n      AuthService.login(username, password).then(\n        (res) => {\n          console.log(\"response: \")\n          console.log(res)\n          navigate(\"/profile\");\n          window.location.reload();\n   \n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n\n          setLoading(false);\n          setMessage(resMessage);\n        }\n      );\n    } else {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"col-md-12\">\n      <div className=\"card card-container\">\n        <img\n          src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n          alt=\"profile-img\"\n          className=\"profile-img-card\"\n        />\n\n        <Form onSubmit={handleLogin} ref={form}>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username</label>\n            <Input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"username\"\n              value={username}\n              onChange={onChangeUsername}\n              validations={[required]}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <Input\n              type=\"password\"\n              className=\"form-control\"\n              name=\"password\"\n              value={password}\n              onChange={onChangePassword}\n              validations={[required]}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <button className=\"btn btn-primary btn-block\" disabled={loading}>\n              {loading && (\n                <span className=\"spinner-border spinner-border-sm\"></span>\n              )}\n              <span>Login</span>\n            </button>\n          </div>\n\n          {message && (\n            <div className=\"form-group\">\n              <div className=\"alert alert-danger\" role=\"alert\">\n                {message}\n              </div>\n            </div>\n          )}\n          <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\n        </Form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState, useRef } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { isEmail } from \"validator\";\n\nimport AuthService from \"../services/auth.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        This field is required!\n      </div>\n    );\n  }\n};\n\nconst validEmail = (value) => {\n  if (!isEmail(value)) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        This is not a valid email.\n      </div>\n    );\n  }\n};\n\nconst vusername = (value) => {\n  if (value.length < 3 || value.length > 20) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        The username must be between 3 and 20 characters.\n      </div>\n    );\n  }\n};\n\nconst vpassword = (value) => {\n  if (value.length < 6 || value.length > 40) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        The password must be between 6 and 40 characters.\n      </div>\n    );\n  }\n};\n\nconst Register = () => {\n  const form = useRef();\n  const checkBtn = useRef();\n\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [successful, setSuccessful] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const onChangeUsername = (e) => {\n    const username = e.target.value;\n    setUsername(username);\n  };\n\n  const onChangeEmail = (e) => {\n    const email = e.target.value;\n    setEmail(email);\n  };\n\n  const onChangePassword = (e) => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n\n    setMessage(\"\");\n    setSuccessful(false);\n\n    form.current.validateAll();\n\n    if (checkBtn.current.context._errors.length === 0) {\n      AuthService.register(username, email, password).then(\n        (response) => {\n          setMessage(response.data.message);\n          setSuccessful(true);\n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n\n          setMessage(resMessage);\n          setSuccessful(false);\n        }\n      );\n    }\n  };\n\n  return (\n    <div className=\"col-md-12\">\n      <div className=\"card card-container\">\n        <img\n          src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n          alt=\"profile-img\"\n          className=\"profile-img-card\"\n        />\n\n        <Form onSubmit={handleRegister} ref={form}>\n          {!successful && (\n            <div>\n              <div className=\"form-group\">\n                <label htmlFor=\"username\">Username</label>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"username\"\n                  value={username}\n                  onChange={onChangeUsername}\n                  validations={[required, vusername]}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"email\">Email</label>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"email\"\n                  value={email}\n                  onChange={onChangeEmail}\n                  validations={[required, validEmail]}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Password</label>\n                <Input\n                  type=\"password\"\n                  className=\"form-control\"\n                  name=\"password\"\n                  value={password}\n                  onChange={onChangePassword}\n                  validations={[required, vpassword]}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <button className=\"btn btn-primary btn-block\">Sign Up</button>\n              </div>\n            </div>\n          )}\n\n          {message && (\n            <div className=\"form-group\">\n              <div\n                className={\n                  successful ? \"alert alert-success\" : \"alert alert-danger\"\n                }\n                role=\"alert\"\n              >\n                {message}\n              </div>\n            </div>\n          )}\n          <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\n        </Form>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","export default function authHeader() {\n  const user = JSON.parse(localStorage.getItem('user'));\n\n  if (user && user.token) {\n     return { 'Authorization': 'Bearer ' +user.token }; // for Spring Boot back-end\n    //return { 'x-access-token': user.accessToken };       // for Node.js Express back-end\n  } else {\n    return {};\n  }\n}","import axios from \"axios\";\nimport authHeader from \"./auth-header\";\n\nconst API_URL = \"http://localhost:8080/api/main/\";\n\nconst getPublicContent = () => {\n  return axios.get(API_URL + \"all\");\n};\n\nconst getUserBoard = () => {\n  console.log(authHeader());\n  return axios.get(API_URL + \"user\", { headers: authHeader() });\n};\n\nconst getModeratorBoard = () => {\n  return axios.get(API_URL + \"manager\", { headers: authHeader() });\n};\n\nconst getAdminBoard = () => {\n  return axios.get(API_URL + \"admin\", { headers: authHeader() });\n};\n\nconst UserService = {\n  getPublicContent,\n  getUserBoard,\n  getModeratorBoard,\n  getAdminBoard,\n};\n\nexport default UserService;","import React, { useState, useEffect } from \"react\";\n\nimport UserService from \"../services/user.service\";\n\nconst Home = () => {\n  const [content, setContent] = useState(\"\");\n\n  useEffect(() => {\n    UserService.getPublicContent().then(\n      (response) => {\n        console.log(response.data)\n        setContent(response.data);\n      },\n      (error) => {\n        const _content =\n          (error.response && error.response.data) ||\n          error.message ||\n          error.toString();\n\n        setContent(_content);\n      }\n    );\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <header className=\"jumbotron\">\n        <h3>{content}</h3>\n      </header>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport AuthService from \"../services/auth.service\";\n\nconst Profile = () => {\n  const currentUser = AuthService.getCurrentUser();\n  console.log(currentUser)\n\n  return (\n    <div className=\"container\">\n      <header className=\"jumbotron\">\n        <h3>\n          <strong>{currentUser.username}</strong> Profile\n        </h3>\n      </header>\n      <p>\n        <strong>Token:</strong> {currentUser.token.substring(0, 20)} ...{\" \"}\n        {currentUser.token.substr(currentUser.token.length - 20)}\n      </p>\n      {/* <p>\n        <strong>Token expiry time:</strong> {currentUser.exp}\n      </p> */}\n      <p>\n        <strong>Email:</strong> {currentUser.email}\n      </p>\n      {/* <strong>Authorities:</strong>\n      <ul>\n        {currentUser.roles &&\n          currentUser.roles.map((role, index) => <li key={index}>{role}</li>)}\n      </ul> */}\n    </div>\n  );\n};\n\nexport default Profile;\n","const eventBus = {\n    on(event, callback) {\n      document.addEventListener(event, (e) => callback(e.detail));\n    },\n    dispatch(event, data) {\n      document.dispatchEvent(new CustomEvent(event, { detail: data }));\n    },\n    remove(event, callback) {\n      document.removeEventListener(event, callback);\n    },\n  };\n  \n  export default eventBus;\n  ","import React, { useState, useEffect } from \"react\";\n\nimport UserService from \"../services/user.service\";\nimport EventBus from \"../common/EventBus\";\n\nconst AdminBoard = () => {\n  const [content, setContent] = useState(\"\");\n\n  useEffect(() => {\n    UserService.getAdminBoard().then(\n      (response) => {\n        setContent(response.data);\n      },\n      (error) => {\n        const _content =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        setContent(_content);\n\n        if (error.response && error.response.status === 401) {\n          EventBus.dispatch(\"logout\");\n        }\n      }\n    );\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <header className=\"jumbotron\">\n        <h3>{content}</h3>\n      </header>\n    </div>\n  );\n};\n\nexport default AdminBoard;\n","import React, { useState, useEffect } from \"react\";\n\nimport UserService from \"../services/user.service\";\nimport EventBus from \"../common/EventBus\";\n\nconst UserBoard = () => {\n  const [content, setContent] = useState(\"\");\n\n  useEffect(() => {\n    UserService.getUserBoard().then(\n      (response) => {\n        setContent(response.data);\n      },\n      (error) => {\n        const _content =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        setContent(_content);\n\n        if (error.response && error.response.status === 401) {\n          EventBus.dispatch(\"logout\");\n        }\n      }\n    );\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <header className=\"jumbotron\">\n        <h3>{content}</h3>\n      </header>\n    </div>\n  );\n};\n\nexport default UserBoard;\n","import React, { useState, useEffect } from \"react\";\n\nimport UserService from \"../services/user.service\";\nimport EventBus from \"../common/EventBus\";\n\nconst ManagerBoard = () => {\n  const [content, setContent] = useState(\"\");\n\n  useEffect(() => {\n    UserService.getModeratorBoard().then(\n      (response) => {\n        setContent(response.data);\n      },\n      (error) => {\n        const _content =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        setContent(_content);\n\n        if (error.response && error.response.status === 401) {\n          EventBus.dispatch(\"logout\");\n        }\n      }\n    );\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <header className=\"jumbotron\">\n        <h3>{content}</h3>\n      </header>\n    </div>\n  );\n};\n\nexport default ManagerBoard;\n","import React, { useState, useEffect } from \"react\";\nimport { Routes, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport AuthService from \"./services/auth.service\";\n\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Home from \"./components/Home\";\nimport Profile from \"./components/Profile\";\n\nimport AdminBoard from \"./components/AdminBoard\";\n\nimport EventBus from \"./common/EventBus\";\nimport UserBoard from \"./components/UserBoard\";\nimport ManagerBoard from \"./components/ManagerBoard\";\n\nconst App = () => {\n  const [showManagerBoard, setShowManagerBoard] = useState(false);\n  const [showAdminBoard, setShowAdminBoard] = useState(false);\n  const [currentUser, setCurrentUser] = useState(undefined);\n\n  useEffect(() => {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      setCurrentUser(user);\n      // setShowManagerBoard(false);\n      // setShowAdminBoard(false);\n      setShowManagerBoard(user.roles.includes(\"ROLE_MODERATOR\"));\n      setShowAdminBoard(user.roles.includes(\"ROLE_ADMIN\"));\n    }\n\n    EventBus.on(\"logout\", () => {\n      logOut();\n    });\n\n    return () => {\n      EventBus.remove(\"logout\");\n    };\n  }, []);\n\n  const logOut = () => {\n    AuthService.logout();\n    setShowManagerBoard(false);\n    setShowAdminBoard(false);\n    setCurrentUser(undefined);\n  };\n\n  return (\n    <div>\n    <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n      <Link to={\"/\"} className=\"navbar-brand\">\n        TOM\n      </Link>\n      <div className=\"navbar-nav mr-auto\">\n        <li className=\"nav-item\">\n          <Link to={\"/home\"} className=\"nav-link\">\n            Home\n          </Link>\n        </li>\n\n        {showManagerBoard && (\n          <li className=\"nav-item\">\n            <Link to={\"/mod\"} className=\"nav-link\">\n              Moderator Board\n            </Link>\n          </li>\n        )}\n\n        {showAdminBoard && (\n          <li className=\"nav-item\">\n            <Link to={\"/admin\"} className=\"nav-link\">\n              Admin Board\n            </Link>\n          </li>\n        )}\n\n        {currentUser && (\n          <li className=\"nav-item\">\n            <Link to={\"/user\"} className=\"nav-link\">\n              User\n            </Link>\n          </li>\n        )}\n      </div>\n\n      {currentUser ? (\n        <div className=\"navbar-nav ml-auto\">\n          <li className=\"nav-item\">\n            <Link to={\"/profile\"} className=\"nav-link\">\n              {currentUser.username}\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <a href=\"/#/login\" className=\"nav-link\" onClick={logOut}>\n              LogOut\n            </a>\n          </li>\n        </div>\n      ) : (\n        <div className=\"navbar-nav ml-auto\">\n          <li className=\"nav-item\">\n            <Link to={\"/login\"} className=\"nav-link\">\n              Login\n            </Link>\n          </li>\n\n          <li className=\"nav-item\">\n            <Link to={\"/register\"} className=\"nav-link\">\n              Sign Up\n            </Link>\n          </li>\n        </div>\n      )}\n    </nav>\n\n    <div className=\"container mt-3\">\n      <Routes>\n        <Route path=\"/\" element={<Home/>} />\n        <Route path=\"/home\" element={<Home/>} />\n        <Route path=\"/login\" element={<Login/>} />\n        <Route path=\"/register\" element={<Register/>} />\n        <Route path=\"/profile\" element={<Profile/>} />\n        <Route path=\"/user\" element={<UserBoard/>} />\n        <Route path=\"/mod\" element={<ManagerBoard/>} />\n        <Route path=\"/admin\" element={<AdminBoard/>} />\n      </Routes>\n    </div>\n\n  </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from \"react-router-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <HashRouter>\n    <App />\n  </HashRouter>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}